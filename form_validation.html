<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <title>Form Validation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
</head>
<style>
    body {
        padding: 0;
        margin: 0;
        text-decoration: none;
        box-sizing: border-box;
        background-color: #f4f6fc;
    }
    
    .form-haeding {
        font-family: 'Roboto', sans-serif;
        font-weight: bold;
    }
    
    .text-danger {
        white-space: nowrap;
    }
</style>

<body>

    <!-- validation form start -->
    <div class="container ">
        <div class="row">
            <!-- validation form heading section start -->
            <div class="col-md-12 text-center">
                <h2 class="form-haeding p-3">Form Validation</h2>
            </div>
            <!-- validation form heading section end -->
            <!-- validation form section start -->
            <div class="col-md-12 d-flex justify-content-center">

                <form id="formValidation" class="col-6" onsubmit="submit()">
                    <div class="form-group ">
                        <label for="exampleInputName">Name </label>
                        <input type="text" class="form-control  col-11 " id="inputName" aria-describedby="nameHelp" placeholder="Enter Name" onblur="validationName()">
                        <small id="nameErrorNotifiaction" class="form-text text-danger w-100"></small>
                    </div>
                    <div class="form-group ">
                        <label for="exampleInputEmail">Email</label>
                        <input type="email" class="form-control col-11" id="inputEmail" aria-describedby="EmailHelp" placeholder="Enter Email id" onblur="validatetionEmail()">
                        <small id="emailMsgnotification" class="form-text text-danger w-100 "></small>
                    </div>
                    <div class="form-group ">
                        <label for="exampleInputphone">Phone</label>
                        <input type="number" class="form-control col-11 " id="inputPhone" aria-describedby="phoneHelp" placeholder="Enter phone number" onblur="validationPhone()">
                        <small id="phoneMsgnotification" class="form-text text-danger w-100 "></small>
                    </div>
                    <div class="form-group ">
                        <label for="exampleInputAge">Age</label>
                        <input type="number" class="form-control col-11 " id="inputAge" aria-describedby="ageHelp" placeholder="Enter age " onblur="validationAge()">
                        <small id="ageMsgnotification" class="form-text text-danger w-100 "></small>
                    </div>
                    <div class="form-group ">
                        <label for="exampleInputpassword">Password</label>
                        <input type="password" class="form-control col-11 " id="inputPassword" aria-describedby="agepassword" placeholder="Enter password " onblur="validatePassword()">
                        <small id="passwordMsgnotification" class="form-text text-danger w-100 "></small>
                    </div>

                    <button type="submit" onclick="submit1()" class="btn btn-primary">Submit</button>
                    <button type="reset" class="btn btn-primary">Reset</button>
                </form>

            </div>
            <!-- validation form section end-->

        </div>
    </div>
    <!-- validation form end -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>


    <script>
        // var name = 0;
        // var age = 0

        var form = document.getElementById('formValidation');

        function validationName() {
            let nameInput = form.inputName.value;
            let nameMsg = document.getElementById('nameErrorNotifiaction');

            if (nameInput) {
                if (/^[A-Za-z][A-Za-z\'\-]+([\ A-Za-z][A-Za-z\'\-]+)*/.test(nameInput)) {
                    return true;
                } else {
                    nameMsg.textContent = "Name format not correct";
                    nameMsg.classList.add('text-danger');
                    nameMsg.classList.remove('text-success');
                    return false;
                }
            } else {
                nameMsg.textContent = "Name field is empty";
                return false;

            }
        }

        function validatetionEmail() {
            let inputEmail = form.inputEmail.value;
            let emailMsgnotification = document.getElementById('emailMsgnotification');

            if (inputEmail) {
                if (/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/.test(inputEmail)) {
                    return true;
                } else {
                    emailMsgnotification.textContent = "Email Id invalid";

                    emailMsgnotification.classList.add('text-danger');
                    emailMsgnotification.classList.remove('text-success');
                    return false;
                }
            } else {
                emailMsgnotification.textContent = "Email field is empty";
                return false;

            }
        }

        function validationPhone() {
            let inputPhone = form.inputPhone.value;
            let inputPhone1 = form.inputPhone.value.length;
            let phoneMsgnotification = document.getElementById('phoneMsgnotification');
            if (inputPhone1 != 10) {
                phoneMsgnotification.textContent = "You enter more then 10 digit";
                phoneMsgnotification.classList.add('text-danger');
                phoneMsgnotification.classList.remove('text-success');
            } else if (inputPhone) {
                if (/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/.test(inputPhone)) {
                    return true;
                } else {
                    phoneMsgnotification.textContent = "Phone Number invalid";
                    phoneMsgnotification.classList.add('text-danger');
                    phoneMsgnotification.classList.remove('text-success');
                    return false;
                }
            } else {
                phoneMsgnotification.textContent = "Phone number field cannot empty";
                phoneMsgnotification.classList.add('text-danger');
                phoneMsgnotification.classList.remove('text-success');
                return false;

            }
        }

        function validationAge() {
            let inputAge = form.inputAge.value;
            let ageMsgnotification = document.getElementById('ageMsgnotification');

            if (inputAge) {
                if (inputAge >= 18) {
                    age = 1;
                    return true;
                } else {
                    ageMsgnotification.textContent = "You are not eligible";
                    ageMsgnotification.classList.add('text-danger');
                    ageMsgnotification.classList.remove('text-success');
                    age = 0;
                    return false;
                }
            } else {
                ageMsgnotification.textContent = "Age field cannot empty";
                ageMsgnotification.classList.add('text-danger');
                ageMsgnotification.classList.remove('text-success');
                return false;
                age = 0;
            }
        }

        function validatePassword() {
            let inputPassword = form.inputPassword.value;
            let inputPasswordl = form.inputPassword.value.length;
            let passwordMsgnotification = document.getElementById('passwordMsgnotification');
            let pattern = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]{8,}$/;

            if (inputPassword) {
                if (inputPassword.match(pattern)) {
                    passwordMsgnotification.textContent = "Valid Password";
                    passwordMsgnotification.classList.remove('text-danger');
                    passwordMsgnotification.classList.add('text-success');
                    return true;
                } else {
                    passwordMsgnotification.textContent = "Incorrect Password";
                    passwordMsgnotification.classList.add('text-danger');
                    passwordMsgnotification.classList.remove('text-success');
                    return false;
                }
            } else {
                passwordMsgnotification.textContent = "password is  empty";
                passwordMsgnotification.classList.add('text-danger');
                passwordMsgnotification.classList.remove('text-success');
            }

        }


        function submit1() {
            console.log('test');
            let v1 = validationName();
            let v2 = validatetionEmail();
            let v3 = validationPhone();
            let v4 = validationAge();
            let v5 = validatePassword();
            console.log(v1);
            console.log(v2);
            console.log(v3);
            console.log(v4);
            console.log(v5);
            if (v1 && v2 && v4) {
                alert("submitted")
            } else {
                alert("Error")
            }
        }
    </script>
</body>

</html>